const db = require("../db/queries");
const CustomNotFoundError = require("../middlewares/CustomNotFoundError");

exports.getAllGames = async (req, res, next) => {
  try {
    const games = await db.getAllGames();
    if (!games || games.length === 0)
      throw new CustomNotFoundError("no games found!");
    res.status(200).json(games);
  } catch (err) {
    next(err);
  }
};

exports.getGame = async (req, res, next) => {
  try {
    const gameId = req.params;
    const game = await db.getGame(gameId);
    if (!game || game.length === 0)
      throw new CustomNotFoundError("cannot find game");
    res.status(200).json(game);
  } catch (err) {
    next(err);
  }
};
